(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const p of o.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function n(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(t){if(t.ep)return;t.ep=!0;const o=n(t);fetch(t.href,o)}})();const P=[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],S=e=>{e.classList.toggle("card__like-button_is-active")},g=e=>{e.remove()},I=()=>document.getElementById("card-template").content.querySelector(".card").cloneNode(!0),k=(e,{onPreviewPicture:r,onLikeIcon:n,onDeleteCard:s})=>{const t=I(),o=t.querySelector(".card__like-button"),p=t.querySelector(".card__control-button_type_delete"),a=t.querySelector(".card__image");return a.src=e.link,a.alt=e.name,t.querySelector(".card__title").textContent=e.name,n&&o.addEventListener("click",()=>n(o)),s&&p.addEventListener("click",()=>s(t)),r&&a.addEventListener("click",()=>r({name:e.name,link:e.link})),t},q=e=>{if(e.key==="Escape"){const r=document.querySelector(".popup_is-opened");c(r)}},i=e=>{e.classList.add("popup_is-opened"),document.addEventListener("keyup",q)},c=e=>{e.classList.remove("popup_is-opened"),document.removeEventListener("keyup",q)},w=e=>{e.querySelector(".popup__close").addEventListener("click",()=>{c(e)}),e.addEventListener("mousedown",n=>{n.target.classList.contains("popup")&&c(e)})},E=document.querySelector(".places__list"),u=document.querySelector(".popup_type_edit"),d=u.querySelector(".popup__form"),L=d.querySelector(".popup__input_type_name"),h=d.querySelector(".popup__input_type_description"),m=document.querySelector(".popup_type_new-card"),l=m.querySelector(".popup__form"),M=l.querySelector(".popup__input_type_card-name"),B=l.querySelector(".popup__input_type_url"),_=document.querySelector(".popup_type_image"),v=_.querySelector(".popup__image"),j=_.querySelector(".popup__caption"),D=document.querySelector(".profile__edit-button"),O=document.querySelector(".profile__add-button"),b=document.querySelector(".profile__title"),C=document.querySelector(".profile__description"),x=document.querySelector(".profile__image"),y=document.querySelector(".popup_type_edit-avatar"),f=y.querySelector(".popup__form"),N=f.querySelector(".popup__input"),F=({name:e,link:r})=>{v.src=r,v.alt=e,j.textContent=e,i(_)},W=e=>{e.preventDefault(),b.textContent=L.value,C.textContent=h.value,c(u)},A=e=>{e.preventDefault(),x.style.backgroundImage=`url(${N.value})`,c(y)},T=e=>{e.preventDefault(),E.prepend(k({name:M.value,link:B.value},{onPreviewPicture:F,onLikeIcon:S,onDeleteCard:g})),c(m)};d.addEventListener("submit",W);l.addEventListener("submit",T);f.addEventListener("submit",A);D.addEventListener("click",()=>{L.value=b.textContent,h.value=C.textContent,i(u)});x.addEventListener("click",()=>{f.reset(),i(y)});O.addEventListener("click",()=>{l.reset(),i(m)});P.forEach(e=>{E.append(k(e,{onPreviewPicture:F,onLikeIcon:S,onDeleteCard:g}))});const z=document.querySelectorAll(".popup");z.forEach(e=>{w(e)});
